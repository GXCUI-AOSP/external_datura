{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8dda68fb_9bd682e7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2024-04-22T18:18:23Z",
      "side": 1,
      "message": "(I know you didn\u0027t ask for a review at this stage, but I was curious to try out all of this, since I\u0027m looking forward to using it myself!)",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8007f365_f1620baa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2024-04-22T18:40:34Z",
      "side": 1,
      "message": "The allow button in the notification seems to work but doesn\u0027t currently dismiss the notification?",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9cd8235e_7f4f325d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2024-04-22T18:41:57Z",
      "side": 1,
      "message": "I think that might be because it\u0027s canceling with an ID represented by the hashcode of the package name, which isn\u0027t used elsewhere (mentioned in another comment)?",
      "parentUuid": "8007f365_f1620baa",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "874d632f_482c9735",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000065
      },
      "writtenOn": "2024-04-22T18:46:56Z",
      "side": 1,
      "message": "This was used before I changed it to random ID as I felt it will conflict with work profile app like Tommy mentioned below. I think using hashcode is better but maybe adding userID to it would be better to avoid conflict too.",
      "parentUuid": "9cd8235e_7f4f325d",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "12474a81_3017532a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2024-04-23T02:45:05Z",
      "side": 1,
      "message": "Works overall. Nice work",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "03b01bc7_81ad1438",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000065
      },
      "writtenOn": "2024-04-23T14:57:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "874d632f_482c9735",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f896d032_69084378",
        "filename": "app/src/main/java/org/calyxos/datura/receiver/DaturaReceiver.kt",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2024-04-22T18:18:23Z",
      "side": 1,
      "message": "Between the time the notification was posted and the time the user interacted with it, the app may have been uninstalled. In that case, we don\u0027t want to mess with the policy. That way we don\u0027t have to worry about edge cases, like if a new app gets installed with that same UID and ends up being affected here somehow.\n\nMaybe before acting, we can query the UID and make sure its package name matches `packageName`, just to be sure that 1) it\u0027s installed, and 2) it\u0027s actually the same package (or same package name at least)?\n\nI guess another option could be to remove the notification if the UID gets uninstalled, if we were listening to that broadcast.",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14c11f0a_3240f643",
        "filename": "app/src/main/java/org/calyxos/datura/receiver/DaturaReceiver.kt",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2024-05-17T17:42:06Z",
      "side": 1,
      "message": "I like the last option best. Would probably work with ACTION_UID_REMOVED with the existing receiver and require to keep track of the notification",
      "parentUuid": "f896d032_69084378",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c162cae4_1a296bf9",
        "filename": "app/src/main/java/org/calyxos/datura/receiver/DaturaReceiver.kt",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2024-04-22T18:18:23Z",
      "side": 1,
      "message": "It looks like `packageName!!.hashCode()` isn\u0027t correct...? If it were correct, we shouldn\u0027t use it because the package might be installed in a work profile, so the package name isn\u0027t enough to differentiate between notifications, right?",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37d0f0e4_be34682c",
        "filename": "app/src/main/java/org/calyxos/datura/receiver/DaturaReceiver.kt",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1000065
      },
      "writtenOn": "2024-04-23T14:57:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c162cae4_1a296bf9",
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0396576f_ff6673fe",
        "filename": "app/src/main/java/org/calyxos/datura/service/DaturaService.kt",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2024-04-22T18:18:23Z",
      "side": 1,
      "message": "This change (checking if an app requests internet permission), and the related code to support it, may be better handled in the parent change, since it affects more than the notification alone.\n\nAnd I think this is a good change, too, since we already have code elsewhere (in the framework) to make sure apps that don\u0027t use internet will have it auto-denied if they are later upgraded to add it. It\u0027s probably good that we don\u0027t do this in two different places if we don\u0027t need to.",
      "range": {
        "startLine": 53,
        "startChar": 33,
        "endLine": 53,
        "endChar": 63
      },
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb580832_81fa48ce",
        "filename": "app/src/main/java/org/calyxos/datura/service/DaturaService.kt",
        "patchSetId": 4
      },
      "lineNbr": 53,
      "author": {
        "id": 1000065
      },
      "writtenOn": "2024-04-23T14:57:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0396576f_ff6673fe",
      "range": {
        "startLine": 53,
        "startChar": 33,
        "endLine": 53,
        "endChar": 63
      },
      "revId": "a03b5a8541295a1a41a665286c6ebb7eb0737db2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}